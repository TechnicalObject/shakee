import os
from PIL import Image
import requests

def check_urls(url_list):
    bad_urls = []
    for url in url_list:
        try:
            response = requests.get(url, timeout=5)
            if response.status_code != 200:
                bad_urls.append((url, response.status_code))
        except requests.RequestException as e:
            bad_urls.append((url, str(e)))
    return bad_urls

if __name__ == "__main__":
    urls = [
        "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/herbal-aloe/herbal-aloe_0006_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/herbal-aloe/herbal-aloe_1065_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/instantni-bylinny-napoj/instantni-bylinny-napoj_178K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/instantni-bylinny-napoj/instantni-bylinny-napoj_180K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/instantni-bylinny-napoj/instantni-bylinny-napoj_181K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/instantni-bylinny-napoj/instantni-bylinny-napoj_179K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/h24-rebuild/h24-rebuild_403K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula1/formula1_4462_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula1/formula1_048K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula1/formula1_053K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula1/formula1_224K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula1/formula1_4463_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula1/formula1_4465_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula1/formula1_4466_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula1/formula1_4467_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula1/formula1_4468_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula1/formula1_4471_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula1/formula1_4469_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/protein-drink-mix/protein-drink-mix_2600_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/protein-drink-mix/protein-drink-mix_172K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/protein-drink-mix/protein-drink-mix_441K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/f1-express-tycinky/f1-express-tycinky_4472_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/f1-express-tycinky/f1-express-tycinky_4473_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/h24-cr7-drive/h24-cr7-drive_1466_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/h24-cr7-drive/h24-cr7-drive_1467_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/protein-chips/protein-chips_141K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/protein-chips/protein-chips_142K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/protein-tycinka/protein-tycinka_3976_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/protein-tycinka/protein-tycinka_3968_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/h24-proteinova-tycinka/h24-proteinova-tycinka_150K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/f2-multivitamin/f2-multivitamin_1800_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/f2-multivitamin/f2-multivitamin_1819_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/formula3-proteinovy-doplnek/formula3-proteinovy-doplnek_0242_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/phyto-complete/phyto-complete_236K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/multi-vlakninovy-napoj/multi-vlakninovy-napoj_2554_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/liftoff/liftoff_3152_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/colagen-skin-booster/colagen-skin-booster_076K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/h24-creatine/h24-creatine_488K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/h24-prolong-energy-gel/h24-prolong-energy-gel_402K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/immune-booster/immune-booster_233K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/night-mode/night-mode_282K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/h24-hydrate/h24-hydrate_1433_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/gels-nutrientvita-kids/gels-nutrientvita-kids_369K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/gels-mindvita-kids/gels-mindvita-kids_379K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/gels-viewvita/gels-viewvita_376K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/gels-coq10vita/gels-coq10vita_378K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/active-mind-complex/active-mind-complex_243K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/nite-works/nite-works_2630_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/xtra-cal/xtra-cal_0020_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/herbalife-line-max/herbalife-line-max_0043_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/beta-heart/beta-heart_0267_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/microbiotic-max/microbiotic-max_173K_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/kucharka/kucharka_3C10_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/skin-cistici-pripravek-aloe/skin-cistici-pripravek-aloe_0765_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/skin-cistici-pripravek-citrusy/skin-cistici-pripravek-citrusy_0766_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/skin-cistici-jilova-maska/skin-cistici-jilova-maska_0773_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/skin-bylinkovy-toner/skin-bylinkovy-toner_0767_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/skin-zpevnujici-ocni-gel/skin-zpevnujici-ocni-gel_0770_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/skin-hydratacni-ocni-krem/skin-hydratacni-ocni-krem_0771_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/skin-ovocny-peeling/skin-ovocny-peeling_0772_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/skin-serum-proti-vraskam/skin-serum-proti-vraskam_0829_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/skin-denni-hydratacni-krem/skin-denni-hydratacni-krem_0830_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/skin-hydratacni-krem-sfaktorem/skin-hydratacni-krem-sfaktorem_0828_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/skin-vyzivy-nocni-krem/skin-vyzivy-nocni-krem_0827_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/herbal-aloe-myci-telovy-gel/herbal-aloe-myci-telovy-gel_2561_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/herbal-aloe-zklidnujici-gel/herbal-aloe-zklidnujici-gel_2562_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/herbal-aloe-krem-na-ruce/herbal-aloe-krem-na-ruce_2563_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/herbal-aloe-posilujici-sampon/herbal-aloe-posilujici-sampon_2564_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/herbal-aloe-posilujici-kondicioner/herbal-aloe-posilujici-kondicioner_2565_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/multi-odmerka/multi-odmerka_9B48_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/udrzitelna-odmerka/udrzitelna-odmerka_2B10_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/udrzitelna-odmerka/udrzitelna-odmerka_2B09_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/udrzitelna-odmerka/udrzitelna-odmerka_2B08_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/udrzitelna-odmerka/udrzitelna-odmerka_1B42_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/udrzitelna-odmerka/udrzitelna-odmerka_2B12_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/shaker/shaker_100M_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/shaker/shaker_9N84_1.png", "https://raw.githubusercontent.com/TechnicalObject/shakee/main/assets/images/shaker/shaker_9N85_1.png"
    ]
    
    bad = check_urls(urls)
    
    if bad:
        print("The following URLs failed:")
        print(bad)
        for url, reason in bad:
            print(f"- {url} (reason: {reason})")
    else:
        print("All URLs returned 200")

def convert_to_png(root_dir):
    for subdir, _, files in os.walk(root_dir):
        for file in files:
            file_path = os.path.join(subdir, file)
            # Skip if already PNG
            if file.lower().endswith(".png"):
                continue
            try:
                with Image.open(file_path) as img:
                    new_path = os.path.splitext(file_path)[0] + ".png"
                    img.save(new_path, "PNG")
                    print(f"Converted: {file_path} -> {new_path}")
            except Exception as e:
                print(f"Skipping {file_path}: {e}")

# Usage
# convert_to_png("/Users/lubos/Downloads/Product_photo")