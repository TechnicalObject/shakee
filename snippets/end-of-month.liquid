{% comment %} Calculate end of current month for sale validity {% endcomment %}
{% assign current_year = 'now' | date: '%Y' %}
{% assign current_month = 'now' | date: '%m' %}
{% assign next_month = current_month | plus: 1 %}
{% assign next_year = current_year %}

{% if next_month > 12 %}
  {% assign next_month = 1 %}
  {% assign next_year = current_year | plus: 1 %}
{% endif %}

{% assign next_month_first_day = next_year | append: '-' | append: next_month | append: '-01' | date: '%s' %}
{% assign end_of_month = next_month_first_day | minus: 86400 | date: '%d.%m.%Y' %}
{{ end_of_month }}